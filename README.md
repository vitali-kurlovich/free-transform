# free-transform

```math
 \textbf{lerp}(v_{0}, v_{1}, t) = v_{0} + t\cdot(v_{1} - v_{0})\newline

```
```math
 \textbf{transform}(p_{0}, p_{1}, p_{2}, p_{3}, u, v)= \textbf{lerp}(\textbf{lerp}(p_{0}, p_{1}, u), \textbf{lerp}(p_{2}, p_{3}, u), v) \newline
```


```math
u = -\frac{\sqrt{(p_{x} (-y_{0}+y_{1}-y_{2}+y_{3})+p_{y} (x_{0}-x_{1}+x_{2}-x_{3})+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1})^2+4 (p_{x} (y_{3}-y_{0})+p_{y} (x_{0}-x_{3})-x_{0} y_{3}+x_{3} y_{0}) ((x_{2}-x_{3}) (y_{0}-y_{1})-(x_{0}-x_{1}) (y_{2}-y_{3}))}+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1}}{2 (-(x_{0}-x_{1}) (y_{2}-y_{3})+x_{2} (y_{0}-y_{1})+x_{3} (y_{1}-y_{0}))}+\frac{p_{x} (-y_{0}+y_{1}-y_{2}+y_{3})}{2 ((x_{0}-x_{1}) (y_{2}-y_{3})+x_{2} (y_{1}-y_{0})+x_{3} (y_{0}-y_{1}))}+\frac{p_{y} (x_{0}-x_{1}+x_{2}-x_{3})}{2 ((x_{0}-x_{1}) (y_{2}-y_{3})+x_{2} (y_{1}-y_{0})+x_{3} (y_{0}-y_{1}))}
```

```math
v = \frac{\sqrt{(p_{x} (-y_{0}+y_{1}-y_{2}+y_{3})+p_{y} (x_{0}-x_{1}+x_{2}-x_{3})+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1})^2+4 (p_{x} (y_{3}-y_{0})+p_{y} (x_{0}-x_{3})-x_{0} y_{3}+x_{3} y_{0}) ((x_{2}-x_{3}) (y_{0}-y_{1})-(x_{0}-x_{1}) (y_{2}-y_{3}))}+2 x_{0} y_{1}-x_{0} y_{2}-2 x_{1} y_{0}+x_{1} y_{3}+x_{2} y_{0}-x_{3} y_{1}}{2 ((x_{0}-x_{3}) (y_{1}-y_{2})+x_{1} (y_{3}-y_{0})+x_{2} (y_{0}-y_{3}))}+\frac{p_{x} (y_{0}-y_{1}+y_{2}-y_{3})}{2 ((x_{0}-x_{3}) (y_{1}-y_{2})+x_{1} (y_{3}-y_{0})+x_{2} (y_{0}-y_{3}))}+\frac{p_{y} (-x_{0}+x_{1}-x_{2}+x_{3})}{2 ((x_{0}-x_{3}) (y_{1}-y_{2})+x_{1} (y_{3}-y_{0})+x_{2} (y_{0}-y_{3}))}
```

```math
\begin{array}{cl}
dx_{01} = x_{0}- x_{1},\ dy_{01} = y_{0}- y_{1}\\
dx_{02} = x_{0}- x_{2},\ dy_{02} = y_{0}- y_{2}\\
dx_{03} = x_{0}- x_{3},\ dy_{03} = y_{0}- y_{3}\\
dx_{12} = x_{1}- x_{2},\ dy_{12} = y_{1}- y_{2}\\
dx_{13} = x_{1}- x_{3},\ dy_{13} = y_{1}- y_{3}\\
dx_{23} = x_{2}- x_{3},\ dy_{23} = y_{2}- y_{3}\\

\end{array}
```

```math

u = -\frac{\sqrt{4 (dx_{23} dy_{01}-dx_{01} dy_{23}) (dx_{03} p_{y}-dy_{03} p_{x}-x_{0} y_{3}+x_{3} y_{0})+(p_{y} (dx_{01}+dx_{23})+p_{x} (-dy_{01}-dy_{23})+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1})^2}+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1}}{2 (-dx_{01} dy_{23}+dy_{01} x_{2}-dy_{01} x_{3})}+\frac{p_{y} (dx_{01}+dx_{23})}{2 (dx_{01} dy_{23}-dy_{01} x_{2}+dy_{01} x_{3})}+\frac{p_{x} (-dy_{01}-dy_{23})}{2 (dx_{01} dy_{23}-dy_{01} x_{2}+dy_{01} x_{3})}\\

```

```math
v = \frac{\sqrt{4 (dx_{23} dy_{01}-dx_{01} dy_{23}) (dx_{03} p_{y}-dy_{03} p_{x}-x_{0} y_{3}+x_{3} y_{0})+(p_{y} (dx_{01}+dx_{23})+p_{x} (-dy_{01}-dy_{23})+x_{0} y_{2}-2 x_{0} y_{3}+x_{1} y_{3}-x_{2} y_{0}+2 x_{3} y_{0}-x_{3} y_{1})^2}+2 x_{0} y_{1}-x_{0} y_{2}-2 x_{1} y_{0}+x_{1} y_{3}+x_{2} y_{0}-x_{3} y_{1}}{2 (dx_{03} dy_{12}-dy_{03} x_{1}+dy_{03} x_{2})}+\frac{p_{y} (-dx_{01}-dx_{23})}{2 (dx_{03} dy_{12}-dy_{03} x_{1}+dy_{03} x_{2})}+\frac{p_{x} (dy_{01}+dy_{23})}{2 (dx_{03} dy_{12}-dy_{03} x_{1}+dy_{03} x_{2})}

```

```math
\begin{array}{cl}

PP= -p_{x} y_{0}+p_{x} y_{1}-p_{x} y_{2}+p_{x} y_{3}+p_{y} x_{0}-p_{y} x_{1}+p_{y} x_{2}-p_{y} x_{3} \to p_{y} (x_{0} - x_{1} + x_{2} - x_{3}) + p_{x} (-y_{0} + y_{1} - y_{2} + y_{3}) \to  p_{y} (dx_{01} + dx_{23}) - p_{x} (dy_{01} + dy_{23})  \\

PQ = -dx_{01} p_{y}-dx_{23} p_{y}+dy_{01} p_{x}+dy_{23} p_{x} \to p_{x} (dy_{01}+dy_{23}) - p_{y} (dx_{01}+dx_{23})\\
\\
PD = dx_{03} p_{y}-dy_{03} p_{x}-x_{0} y_{3}+x_{3} y_{0}\\

\end{array} 

```

```math
\begin{array}{cl}
AA = x_{2} y_{0} - 2 x_{3} y_{0} + x_{3} y_{1} - x_{0} y_{2} + 2 x_{0} y_{3} - x_{1} y_{3} \to x_{0} (2 y_{3}-y_{2})-x_{1} y_{3}+x_{2} y_{0}+x_{3} (y_{1}-2 y_{0})\\
BB = -2 x_{0} y_{1}+x_{0} y_{2}+2 x_{1} y_{0}-x_{1} y_{3}-x_{2} y_{0}+x_{3} y_{1} \to x_{0} (2 y_{3}-y_{2})-x_{1} y_{3}+x_{2} y_{0}+x_{3} (y_{1}-2 y_{0})\\
CC = dx_{23} dy_{01}-dx_{01} dy_{23}\\
SS = dx_{03} dy_{12}-dx_{12} dy_{03}
\end{array} 
```
